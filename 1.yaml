apiVersion: v1
items:
- apiVersion: argoproj.io/v1alpha1
  kind: Application
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"Application","metadata":{"annotations":{},"finalizers":["resources-finalizer.argocd.argoproj.io"],"labels":{"app.kubernetes.io/instance":"apps"},"name":"airflow","namespace":"argocd"},"spec":{"destination":{"namespace":"airflow","server":"https://kubernetes.default.svc"},"project":"default","source":{"kustomize":{"version":"v4.5.4"},"path":"distribution/airflow","repoURL":"https://github.com/gkranasinghe/k8s","targetRevision":"master"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["CreateNamespace=true"]}}}
    creationTimestamp: "2022-09-27T12:07:41Z"
    deletionGracePeriodSeconds: 0
    deletionTimestamp: "2022-09-27T23:06:41Z"
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    generation: 69
    labels:
      app.kubernetes.io/instance: apps
    name: airflow
    namespace: argocd
    resourceVersion: "141536"
    uid: 9b044f96-ee66-4a94-a8f0-e9ac46d3d314
  operation:
    initiatedBy:
      automated: true
    retry:
      limit: 5
    sync:
      prune: true
      revision: 266669bd58383a7bad0fe57a44dbe52417692c81
      syncOptions:
      - CreateNamespace=true
  spec:
    destination:
      namespace: airflow
      server: https://kubernetes.default.svc
    project: default
    source:
      kustomize:
        version: v4.5.4
      path: distribution/airflow
      repoURL: https://github.com/gkranasinghe/k8s
      targetRevision: master
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
  status:
    health:
      status: Missing
    operationState:
      message: waiting for healthy state of apps/StatefulSet/airflow-worker
      operation:
        initiatedBy:
          automated: true
        retry:
          limit: 5
        sync:
          prune: true
          revision: 266669bd58383a7bad0fe57a44dbe52417692c81
          syncOptions:
          - CreateNamespace=true
      phase: Running
      retryCount: 3
      startedAt: "2022-09-27T12:07:41Z"
      syncResult:
        resources:
        - group: ""
          hookPhase: Succeeded
          kind: Namespace
          message: namespace/airflow created
          name: airflow
          namespace: airflow
          status: Synced
          syncPhase: PreSync
          version: v1
        - group: ""
          hookPhase: Succeeded
          hookType: PreSync
          kind: Secret
          message: airflow-broker-url created
          name: airflow-broker-url
          namespace: airflow
          syncPhase: PreSync
          version: v1
        - group: ""
          hookPhase: Succeeded
          hookType: PreSync
          kind: Secret
          message: airflow-fernet-key created
          name: airflow-fernet-key
          namespace: airflow
          syncPhase: PreSync
          version: v1
        - group: ""
          hookPhase: Succeeded
          hookType: PreSync
          kind: Secret
          message: airflow-redis-password created
          name: airflow-redis-password
          namespace: airflow
          syncPhase: PreSync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-create-user-job created
          name: airflow-create-user-job
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-scheduler created
          name: airflow-scheduler
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-redis created
          name: airflow-redis
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-worker created
          name: airflow-worker
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-webserver created
          name: airflow-webserver
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-triggerer created
          name: airflow-triggerer
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-migrate-database-job created
          name: airflow-migrate-database-job
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ServiceAccount
          message: serviceaccount/airflow-statsd created
          name: airflow-statsd
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Secret
          message: secret/airflow-airflow-metadata created
          name: airflow-airflow-metadata
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Secret
          message: secret/airflow-postgresql created
          name: airflow-postgresql
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Secret
          message: secret/airflow-webserver-secret-key created
          name: airflow-webserver-secret-key
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Secret
          message: secret/airflow-airflow-result-backend created
          name: airflow-airflow-result-backend
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: ConfigMap
          message: configmap/airflow-airflow-config created
          name: airflow-airflow-config
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Succeeded
          kind: Role
          message: "role.rbac.authorization.k8s.io/airflow-pod-log-reader-role reconciled.
            reconciliation required create\n\tmissing rules added:\n\t\t{Verbs:[list
            get watch] APIGroups:[] Resources:[pods] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[get
            list] APIGroups:[] Resources:[pods/log] ResourceNames:[] NonResourceURLs:[]}.
            role.rbac.authorization.k8s.io/airflow-pod-log-reader-role configured.
            Warning: resource roles/airflow-pod-log-reader-role is missing the kubectl.kubernetes.io/last-applied-configuration
            annotation which is required by  apply.  apply should only be used on
            resources created declaratively by either  create --save-config or  apply.
            The missing annotation will be patched automatically."
          name: airflow-pod-log-reader-role
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Succeeded
          kind: Role
          message: "role.rbac.authorization.k8s.io/airflow-pod-launcher-role reconciled.
            reconciliation required create\n\tmissing rules added:\n\t\t{Verbs:[create
            list get patch watch delete] APIGroups:[] Resources:[pods] ResourceNames:[]
            NonResourceURLs:[]}\n\t\t{Verbs:[get] APIGroups:[] Resources:[pods/log]
            ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[create get] APIGroups:[]
            Resources:[pods/exec] ResourceNames:[] NonResourceURLs:[]}\n\t\t{Verbs:[list]
            APIGroups:[] Resources:[events] ResourceNames:[] NonResourceURLs:[]}.
            role.rbac.authorization.k8s.io/airflow-pod-launcher-role configured. Warning:
            resource roles/airflow-pod-launcher-role is missing the kubectl.kubernetes.io/last-applied-configuration
            annotation which is required by  apply.  apply should only be used on
            resources created declaratively by either  create --save-config or  apply.
            The missing annotation will be patched automatically."
          name: airflow-pod-launcher-role
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Succeeded
          kind: RoleBinding
          message: "rolebinding.rbac.authorization.k8s.io/airflow-pod-log-reader-rolebinding
            reconciled. reconciliation required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount
            APIGroup: Name:airflow-webserver Namespace:airflow}\n\t\t{Kind:ServiceAccount
            APIGroup: Name:airflow-triggerer Namespace:airflow}. rolebinding.rbac.authorization.k8s.io/airflow-pod-log-reader-rolebinding
            configured. Warning: resource rolebindings/airflow-pod-log-reader-rolebinding
            is missing the kubectl.kubernetes.io/last-applied-configuration annotation
            which is required by  apply.  apply should only be used on resources created
            declaratively by either  create --save-config or  apply. The missing annotation
            will be patched automatically."
          name: airflow-pod-log-reader-rolebinding
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Succeeded
          kind: RoleBinding
          message: "rolebinding.rbac.authorization.k8s.io/airflow-pod-launcher-rolebinding
            reconciled. reconciliation required create\n\tmissing subjects added:\n\t\t{Kind:ServiceAccount
            APIGroup: Name:airflow-worker Namespace:airflow}. rolebinding.rbac.authorization.k8s.io/airflow-pod-launcher-rolebinding
            configured. Warning: resource rolebindings/airflow-pod-launcher-rolebinding
            is missing the kubectl.kubernetes.io/last-applied-configuration annotation
            which is required by  apply.  apply should only be used on resources created
            declaratively by either  create --save-config or  apply. The missing annotation
            will be patched automatically."
          name: airflow-pod-launcher-rolebinding
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-postgresql-headless created
          name: airflow-postgresql-headless
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-worker created
          name: airflow-worker
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-webserver created
          name: airflow-webserver
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-redis created
          name: airflow-redis
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-postgresql created
          name: airflow-postgresql
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Succeeded
          kind: Service
          message: service/airflow-statsd created
          name: airflow-statsd
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Succeeded
          kind: Deployment
          message: deployment.apps/airflow-statsd created
          name: airflow-statsd
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Failed
          kind: Deployment
          message: Deployment "airflow-webserver" exceeded its progress deadline
          name: airflow-webserver
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Failed
          kind: Deployment
          message: Deployment "airflow-triggerer" exceeded its progress deadline
          name: airflow-triggerer
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Failed
          kind: Deployment
          message: Deployment "airflow-scheduler" exceeded its progress deadline
          name: airflow-scheduler
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Succeeded
          kind: StatefulSet
          message: statefulset rolling update complete 1 pods at revision airflow-postgresql-d9b49657b...
          name: airflow-postgresql
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Succeeded
          kind: StatefulSet
          message: 'partitioned roll out complete: 1 new pods have been updated...'
          name: airflow-redis
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: StatefulSet
          message: statefulset.apps/airflow-worker created
          name: airflow-worker
          namespace: airflow
          status: Synced
          syncPhase: Sync
          version: v1
        revision: 266669bd58383a7bad0fe57a44dbe52417692c81
        source:
          kustomize:
            version: v4.5.4
          path: distribution/airflow
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
    reconciledAt: "2022-09-27T23:16:06Z"
    resources:
    - health:
        status: Missing
      kind: ConfigMap
      name: airflow-airflow-config
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Namespace
      name: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Secret
      name: airflow-airflow-metadata
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Secret
      name: airflow-airflow-result-backend
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Secret
      name: airflow-postgresql
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Secret
      name: airflow-webserver-secret-key
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-postgresql
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-postgresql-headless
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-redis
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-statsd
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-webserver
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: Service
      name: airflow-worker
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-create-user-job
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-migrate-database-job
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-redis
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-scheduler
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-statsd
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-triggerer
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-webserver
      namespace: airflow
      status: OutOfSync
      version: v1
    - health:
        status: Missing
      kind: ServiceAccount
      name: airflow-worker
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: Deployment
      name: airflow-scheduler
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: Deployment
      name: airflow-statsd
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: Deployment
      name: airflow-triggerer
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: Deployment
      name: airflow-webserver
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: StatefulSet
      name: airflow-postgresql
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: StatefulSet
      name: airflow-redis
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: apps
      health:
        status: Missing
      kind: StatefulSet
      name: airflow-worker
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: rbac.authorization.k8s.io
      health:
        status: Missing
      kind: Role
      name: airflow-pod-launcher-role
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: rbac.authorization.k8s.io
      health:
        status: Missing
      kind: Role
      name: airflow-pod-log-reader-role
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: rbac.authorization.k8s.io
      health:
        status: Missing
      kind: RoleBinding
      name: airflow-pod-launcher-rolebinding
      namespace: airflow
      status: OutOfSync
      version: v1
    - group: rbac.authorization.k8s.io
      health:
        status: Missing
      kind: RoleBinding
      name: airflow-pod-log-reader-rolebinding
      namespace: airflow
      status: OutOfSync
      version: v1
    sourceType: Kustomize
    summary: {}
    sync:
      comparedTo:
        destination:
          namespace: airflow
          server: https://kubernetes.default.svc
        source:
          kustomize:
            version: v4.5.4
          path: distribution/airflow
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
      revision: a15b2c969641865f53c65c68053ebd31752974ef
      status: OutOfSync
- apiVersion: argoproj.io/v1alpha1
  kind: Application
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"Application","metadata":{"annotations":{},"finalizers":["resources-finalizer.argocd.argoproj.io"],"labels":{"app.kubernetes.io/instance":"apps"},"name":"argocd","namespace":"argocd"},"spec":{"destination":{"server":"https://kubernetes.default.svc"},"project":"default","source":{"kustomize":{"version":"v4.5.4"},"path":"distribution/argocd","repoURL":"https://github.com/gkranasinghe/k8s","targetRevision":"master"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true}}}}
    creationTimestamp: "2022-09-27T07:56:06Z"
    deletionGracePeriodSeconds: 0
    deletionTimestamp: "2022-09-27T23:18:16Z"
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    generation: 197
    labels:
      app.kubernetes.io/instance: apps
    name: argocd
    namespace: argocd
    resourceVersion: "142097"
    uid: 12f39710-20f5-41b5-aea2-c5d6d102b33d
  spec:
    destination:
      server: https://kubernetes.default.svc
    project: default
    source:
      kustomize:
        version: v4.5.4
      path: distribution/argocd
      repoURL: https://github.com/gkranasinghe/k8s
      targetRevision: master
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
  status:
    health:
      status: Progressing
    history:
    - deployStartedAt: "2022-09-27T09:46:42Z"
      deployedAt: "2022-09-27T09:46:43Z"
      id: 0
      revision: 4dbc386c0fc561b8d2e6f2a11a8a09d1b834b344
      source:
        kustomize:
          version: v4.0.5
        path: distribution/argocd
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    - deployStartedAt: "2022-09-27T10:06:40Z"
      deployedAt: "2022-09-27T10:06:50Z"
      id: 1
      revision: f964755faaadb67f07ab28259c9c70dabc3520a7
      source:
        kustomize:
          version: v4.0.5
        path: distribution/argocd
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    - deployStartedAt: "2022-09-27T10:39:26Z"
      deployedAt: "2022-09-27T10:39:27Z"
      id: 2
      revision: f964755faaadb67f07ab28259c9c70dabc3520a7
      source:
        kustomize:
          version: v4.5.4
        path: distribution/argocd
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    - deployStartedAt: "2022-09-27T11:09:39Z"
      deployedAt: "2022-09-27T11:09:40Z"
      id: 3
      revision: 4f1bcdd05b2b724cda3f9414bae81e1661b5598e
      source:
        kustomize:
          version: v4.5.4
        path: distribution/argocd
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    - deployStartedAt: "2022-09-27T11:16:34Z"
      deployedAt: "2022-09-27T11:16:38Z"
      id: 4
      revision: ae4ce87635418345c2d21aa60815453ea88a922c
      source:
        kustomize:
          version: v4.5.4
        path: distribution/argocd
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    operationState:
      finishedAt: "2022-09-27T11:16:38Z"
      message: successfully synced (all tasks run)
      operation:
        initiatedBy:
          username: admin
        retry: {}
        sync:
          revision: ae4ce87635418345c2d21aa60815453ea88a922c
          syncStrategy:
            hook: {}
      phase: Succeeded
      startedAt: "2022-09-27T11:16:34Z"
      syncResult:
        resources:
        - group: ""
          hookPhase: Running
          kind: Namespace
          message: namespace/argocd unchanged
          name: argocd
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: networking.k8s.io
          hookPhase: Running
          kind: NetworkPolicy
          message: networkpolicy.networking.k8s.io/argocd-dex-server-network-policy
            unchanged
          name: argocd-dex-server-network-policy
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: networking.k8s.io
          hookPhase: Running
          kind: NetworkPolicy
          message: networkpolicy.networking.k8s.io/argocd-redis-network-policy unchanged
          name: argocd-redis-network-policy
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: networking.k8s.io
          hookPhase: Running
          kind: NetworkPolicy
          message: networkpolicy.networking.k8s.io/argocd-server-network-policy unchanged
          name: argocd-server-network-policy
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: networking.k8s.io
          hookPhase: Running
          kind: NetworkPolicy
          message: networkpolicy.networking.k8s.io/argocd-application-controller-network-policy
            configured
          name: argocd-application-controller-network-policy
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: networking.k8s.io
          hookPhase: Running
          kind: NetworkPolicy
          message: networkpolicy.networking.k8s.io/argocd-repo-server-network-policy
            configured
          name: argocd-repo-server-network-policy
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-repo-server unchanged
          name: argocd-repo-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-notifications-controller unchanged
          name: argocd-notifications-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-application-controller unchanged
          name: argocd-application-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-server unchanged
          name: argocd-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-redis unchanged
          name: argocd-redis
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-applicationset-controller unchanged
          name: argocd-applicationset-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/argocd-dex-server unchanged
          name: argocd-dex-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Secret
          message: secret/argocd-notifications-secret unchanged
          name: argocd-notifications-secret
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Secret
          message: secret/argocd-secret unchanged
          name: argocd-secret
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-rbac-cm unchanged
          name: argocd-rbac-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-tls-certs-cm unchanged
          name: argocd-tls-certs-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-gpg-keys-cm unchanged
          name: argocd-gpg-keys-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-ssh-known-hosts-cm unchanged
          name: argocd-ssh-known-hosts-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-cmd-params-cm unchanged
          name: argocd-cmd-params-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-notifications-cm unchanged
          name: argocd-notifications-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ConfigMap
          message: configmap/argocd-cm configured
          name: argocd-cm
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apiextensions.k8s.io
          hookPhase: Running
          kind: CustomResourceDefinition
          message: customresourcedefinition.apiextensions.k8s.io/appprojects.argoproj.io
            unchanged
          name: appprojects.argoproj.io
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apiextensions.k8s.io
          hookPhase: Running
          kind: CustomResourceDefinition
          message: customresourcedefinition.apiextensions.k8s.io/applications.argoproj.io
            unchanged
          name: applications.argoproj.io
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apiextensions.k8s.io
          hookPhase: Running
          kind: CustomResourceDefinition
          message: customresourcedefinition.apiextensions.k8s.io/applicationsets.argoproj.io
            unchanged
          name: applicationsets.argoproj.io
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRole
          message: clusterrole.rbac.authorization.k8s.io/argocd-application-controller
            reconciled. clusterrole.rbac.authorization.k8s.io/argocd-application-controller
            unchanged
          name: argocd-application-controller
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRole
          message: clusterrole.rbac.authorization.k8s.io/argocd-server reconciled.
            clusterrole.rbac.authorization.k8s.io/argocd-server unchanged
          name: argocd-server
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRoleBinding
          message: clusterrolebinding.rbac.authorization.k8s.io/argocd-server reconciled.
            clusterrolebinding.rbac.authorization.k8s.io/argocd-server unchanged
          name: argocd-server
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRoleBinding
          message: clusterrolebinding.rbac.authorization.k8s.io/argocd-application-controller
            reconciled. clusterrolebinding.rbac.authorization.k8s.io/argocd-application-controller
            unchanged
          name: argocd-application-controller
          namespace: ""
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/argocd-dex-server reconciled. role.rbac.authorization.k8s.io/argocd-dex-server
            unchanged
          name: argocd-dex-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/argocd-application-controller reconciled.
            role.rbac.authorization.k8s.io/argocd-application-controller unchanged
          name: argocd-application-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/argocd-server reconciled. role.rbac.authorization.k8s.io/argocd-server
            unchanged
          name: argocd-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/argocd-notifications-controller
            reconciled. role.rbac.authorization.k8s.io/argocd-notifications-controller
            unchanged
          name: argocd-notifications-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/argocd-applicationset-controller
            reconciled. role.rbac.authorization.k8s.io/argocd-applicationset-controller
            unchanged
          name: argocd-applicationset-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-application-controller
            reconciled. rolebinding.rbac.authorization.k8s.io/argocd-application-controller
            unchanged
          name: argocd-application-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-notifications-controller
            reconciled. rolebinding.rbac.authorization.k8s.io/argocd-notifications-controller
            unchanged
          name: argocd-notifications-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-redis reconciled.
            rolebinding.rbac.authorization.k8s.io/argocd-redis unchanged
          name: argocd-redis
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-dex-server reconciled.
            rolebinding.rbac.authorization.k8s.io/argocd-dex-server unchanged
          name: argocd-dex-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-applicationset-controller
            reconciled. rolebinding.rbac.authorization.k8s.io/argocd-applicationset-controller
            unchanged
          name: argocd-applicationset-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/argocd-server reconciled.
            rolebinding.rbac.authorization.k8s.io/argocd-server unchanged
          name: argocd-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-notifications-controller-metrics unchanged
          name: argocd-notifications-controller-metrics
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-redis unchanged
          name: argocd-redis
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-server unchanged
          name: argocd-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-metrics unchanged
          name: argocd-metrics
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-repo-server unchanged
          name: argocd-repo-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-applicationset-controller unchanged
          name: argocd-applicationset-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-server-metrics unchanged
          name: argocd-server-metrics
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: Service
          message: service/argocd-dex-server unchanged
          name: argocd-dex-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-redis unchanged
          name: argocd-redis
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-applicationset-controller unchanged
          name: argocd-applicationset-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-notifications-controller unchanged
          name: argocd-notifications-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-dex-server unchanged
          name: argocd-dex-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-repo-server unchanged
          name: argocd-repo-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/argocd-server unchanged
          name: argocd-server
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: StatefulSet
          message: statefulset.apps/argocd-application-controller unchanged
          name: argocd-application-controller
          namespace: argocd
          status: Synced
          syncPhase: Sync
          version: v1
        revision: ae4ce87635418345c2d21aa60815453ea88a922c
        source:
          kustomize:
            version: v4.5.4
          path: distribution/argocd
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
    reconciledAt: "2022-09-27T23:16:06Z"
    resources:
    - kind: ConfigMap
      name: argocd-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-cmd-params-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-gpg-keys-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-notifications-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-rbac-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-ssh-known-hosts-cm
      namespace: argocd
      status: Synced
      version: v1
    - kind: ConfigMap
      name: argocd-tls-certs-cm
      namespace: argocd
      status: Synced
      version: v1
    - health:
        message: Pending deletion
        status: Progressing
      kind: Namespace
      name: argocd
      status: Synced
      version: v1
    - kind: Secret
      name: argocd-notifications-secret
      namespace: argocd
      status: Synced
      version: v1
    - kind: Secret
      name: argocd-secret
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-applicationset-controller
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-dex-server
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-metrics
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-notifications-controller-metrics
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-redis
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-repo-server
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-server
      namespace: argocd
      status: Synced
      version: v1
    - health:
        status: Healthy
      kind: Service
      name: argocd-server-metrics
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-application-controller
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-applicationset-controller
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-dex-server
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-notifications-controller
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-redis
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-repo-server
      namespace: argocd
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: argocd-server
      namespace: argocd
      status: Synced
      version: v1
    - group: apiextensions.k8s.io
      kind: CustomResourceDefinition
      name: applications.argoproj.io
      status: Synced
      version: v1
    - group: apiextensions.k8s.io
      kind: CustomResourceDefinition
      name: applicationsets.argoproj.io
      status: Synced
      version: v1
    - group: apiextensions.k8s.io
      kind: CustomResourceDefinition
      name: appprojects.argoproj.io
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-applicationset-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-dex-server
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-notifications-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-redis
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-repo-server
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: argocd-server
      namespace: argocd
      status: Synced
      version: v1
    - group: apps
      health:
        message: 'partitioned roll out complete: 1 new pods have been updated...'
        status: Healthy
      kind: StatefulSet
      name: argocd-application-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: networking.k8s.io
      kind: NetworkPolicy
      name: argocd-application-controller-network-policy
      namespace: argocd
      status: Synced
      version: v1
    - group: networking.k8s.io
      kind: NetworkPolicy
      name: argocd-dex-server-network-policy
      namespace: argocd
      status: Synced
      version: v1
    - group: networking.k8s.io
      kind: NetworkPolicy
      name: argocd-redis-network-policy
      namespace: argocd
      status: Synced
      version: v1
    - group: networking.k8s.io
      kind: NetworkPolicy
      name: argocd-repo-server-network-policy
      namespace: argocd
      status: Synced
      version: v1
    - group: networking.k8s.io
      kind: NetworkPolicy
      name: argocd-server-network-policy
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
      name: argocd-application-controller
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
      name: argocd-server
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
      name: argocd-application-controller
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
      name: argocd-server
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: argocd-application-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: argocd-applicationset-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: argocd-dex-server
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: argocd-notifications-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: argocd-server
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-application-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-applicationset-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-dex-server
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-notifications-controller
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-redis
      namespace: argocd
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: argocd-server
      namespace: argocd
      status: Synced
      version: v1
    sourceType: Kustomize
    summary:
      images:
      - alpine:3.8
      - ghcr.io/dexidp/dex:v2.32.0
      - quay.io/argoproj/argocd:v2.4.12
      - redis:7.0.4-alpine
    sync:
      comparedTo:
        destination:
          server: https://kubernetes.default.svc
        source:
          kustomize:
            version: v4.5.4
          path: distribution/argocd
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
      revision: a15b2c969641865f53c65c68053ebd31752974ef
      status: Synced
- apiVersion: argoproj.io/v1alpha1
  kind: Application
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"Application","metadata":{"annotations":{},"finalizers":["resources-finalizer.argocd.argoproj.io"],"labels":{"app.kubernetes.io/instance":"apps"},"name":"metallb","namespace":"argocd"},"spec":{"destination":{"namespace":"metallb-system","server":"https://kubernetes.default.svc"},"project":"default","source":{"kustomize":{"version":"v4.5.4"},"path":"distribution/metallb","repoURL":"https://github.com/gkranasinghe/k8s","targetRevision":"master"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["CreateNamespace=true"]}}}
    creationTimestamp: "2022-09-27T07:56:06Z"
    deletionGracePeriodSeconds: 0
    deletionTimestamp: "2022-09-27T23:18:16Z"
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    generation: 139
    labels:
      app.kubernetes.io/instance: apps
    name: metallb
    namespace: argocd
    resourceVersion: "142098"
    uid: 835693fc-f430-4794-a1be-f71040c9177b
  spec:
    destination:
      namespace: metallb-system
      server: https://kubernetes.default.svc
    project: default
    source:
      kustomize:
        version: v4.5.4
      path: distribution/metallb
      repoURL: https://github.com/gkranasinghe/k8s
      targetRevision: master
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
  status:
    conditions:
    - lastTransitionTime: "2022-09-27T23:16:06Z"
      message: |-
        rpc error: code = Unknown desc = Manifest generation error (cached): `/custom-tools/kustomize_4_5_4 build .distribution/metallb --enable-helm` failed exit status 1: Error: accumulating resources: accumulation err='accumulating resources from 'base': '.distribution/metallb/base' must resolve to a file': recursed accumulation of path '.distribution/metallb/base': Error: execution error at (metallb/templates/deprecated_configInline.yaml:2:4): Starting from v0.13.0 configInline is no longer supported. Please see https://metallb.universe.tf/#backward-compatibility

        Use --debug flag to render out invalid YAML
        : unable to run: 'helm template metallb --namespace metallb-system .distribution/metallb/base/charts/metallb --values /tmp/kustomize-helm-753902470/metallb-kustomize-values.yaml' with env=[HELM_CONFIG_HOME=/tmp/kustomize-helm-753902470/helm HELM_CACHE_HOME=/tmp/kustomize-helm-753902470/helm/.cache HELM_DATA_HOME=/tmp/kustomize-helm-753902470/helm/.data] (is 'helm' installed?)
      type: ComparisonError
    health:
      status: Healthy
    operationState:
      finishedAt: "2022-09-27T12:16:13Z"
      message: |-
        ComparisonError: rpc error: code = Unknown desc = Manifest generation error (cached): `/custom-tools/kustomize_4_5_4 build .distribution/metallb --enable-helm` failed exit status 1: Error: accumulating resources: accumulation err='accumulating resources from 'base': '.distribution/metallb/base' must resolve to a file': recursed accumulation of path '.distribution/metallb/base': Error: execution error at (metallb/templates/deprecated_configInline.yaml:2:4): Starting from v0.13.0 configInline is no longer supported. Please see https://metallb.universe.tf/#backward-compatibility

        Use --debug flag to render out invalid YAML
        : unable to run: 'helm template metallb --namespace metallb-system .distribution/metallb/base/charts/metallb --values /tmp/kustomize-helm-1751164292/metallb-kustomize-values.yaml' with env=[HELM_CONFIG_HOME=/tmp/kustomize-helm-1751164292/helm HELM_CACHE_HOME=/tmp/kustomize-helm-1751164292/helm/.cache HELM_DATA_HOME=/tmp/kustomize-helm-1751164292/helm/.data] (is 'helm' installed?)
      operation:
        initiatedBy:
          username: admin
        retry: {}
        sync:
          revision: 266669bd58383a7bad0fe57a44dbe52417692c81
          syncOptions:
          - CreateNamespace=true
          syncStrategy:
            hook: {}
      phase: Error
      startedAt: "2022-09-27T12:16:13Z"
      syncResult:
        revision: ""
        source:
          kustomize:
            version: v4.5.4
          path: distribution/metallb
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
    reconciledAt: "2022-09-27T23:16:06Z"
    resources:
    - kind: ConfigMap
      name: metallb
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - kind: ServiceAccount
      name: metallb-controller
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - kind: ServiceAccount
      name: metallb-speaker
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: DaemonSet
      name: metallb-speaker
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: metallb-controller
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: policy
      kind: PodSecurityPolicy
      name: metallb-controller
      requiresPruning: true
      status: Unknown
      version: v1beta1
    - group: policy
      kind: PodSecurityPolicy
      name: metallb-speaker
      requiresPruning: true
      status: Unknown
      version: v1beta1
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
      name: metallb:controller
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
      name: metallb:speaker
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
      name: metallb:controller
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
      name: metallb:speaker
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: metallb-config-watcher
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: metallb-controller
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: metallb-pod-lister
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: metallb-config-watcher
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: metallb-controller
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: metallb-pod-lister
      namespace: metallb-system
      requiresPruning: true
      status: Unknown
      version: v1
    summary:
      images:
      - quay.io/metallb/controller:v0.12.1
      - quay.io/metallb/speaker:v0.12.1
    sync:
      comparedTo:
        destination:
          namespace: metallb-system
          server: https://kubernetes.default.svc
        source:
          kustomize:
            version: v4.5.4
          path: distribution/metallb
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
      status: Unknown
- apiVersion: argoproj.io/v1alpha1
  kind: Application
  metadata:
    annotations:
      kubectl.kubernetes.io/last-applied-configuration: |
        {"apiVersion":"argoproj.io/v1alpha1","kind":"Application","metadata":{"annotations":{},"finalizers":["resources-finalizer.argocd.argoproj.io"],"labels":{"app.kubernetes.io/instance":"apps"},"name":"nfs-provisioner","namespace":"argocd"},"spec":{"destination":{"namespace":"nfs-provisioner","server":"https://kubernetes.default.svc"},"project":"default","source":{"kustomize":{"version":"v4.5.4"},"path":"distribution/nfs-provisioner","repoURL":"https://github.com/gkranasinghe/k8s","targetRevision":"master"},"syncPolicy":{"automated":{"prune":true,"selfHeal":true},"syncOptions":["CreateNamespace=true"]}}}
    creationTimestamp: "2022-09-27T07:56:06Z"
    deletionGracePeriodSeconds: 0
    deletionTimestamp: "2022-09-27T23:18:16Z"
    finalizers:
    - resources-finalizer.argocd.argoproj.io
    generation: 118
    labels:
      app.kubernetes.io/instance: apps
    name: nfs-provisioner
    namespace: argocd
    resourceVersion: "142099"
    uid: 91ad9222-cd31-4d79-a435-a4d2d597e51e
  spec:
    destination:
      namespace: nfs-provisioner
      server: https://kubernetes.default.svc
    project: default
    source:
      kustomize:
        version: v4.5.4
      path: distribution/nfs-provisioner
      repoURL: https://github.com/gkranasinghe/k8s
      targetRevision: master
    syncPolicy:
      automated:
        prune: true
        selfHeal: true
      syncOptions:
      - CreateNamespace=true
  status:
    health:
      status: Healthy
    history:
    - deployStartedAt: "2022-09-27T11:19:39Z"
      deployedAt: "2022-09-27T11:19:40Z"
      id: 0
      revision: ae4ce87635418345c2d21aa60815453ea88a922c
      source:
        kustomize:
          version: v4.5.4
        path: distribution/nfs-provisioner
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    - deployStartedAt: "2022-09-27T11:30:56Z"
      deployedAt: "2022-09-27T11:31:01Z"
      id: 1
      revision: deb170a29c8ba9b94a12b83f4ef0f0bb88bbfcea
      source:
        kustomize:
          version: v4.5.4
        path: distribution/nfs-provisioner
        repoURL: https://github.com/gkranasinghe/k8s
        targetRevision: master
    operationState:
      finishedAt: "2022-09-27T11:31:01Z"
      message: successfully synced (all tasks run)
      operation:
        initiatedBy:
          username: admin
        retry: {}
        sync:
          revision: deb170a29c8ba9b94a12b83f4ef0f0bb88bbfcea
          syncOptions:
          - CreateNamespace=true
          syncStrategy:
            hook: {}
      phase: Succeeded
      startedAt: "2022-09-27T11:30:56Z"
      syncResult:
        resources:
        - group: ""
          hookPhase: Running
          kind: Namespace
          message: namespace/nfs-provisioner unchanged
          name: nfs-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: ""
          hookPhase: Running
          kind: ServiceAccount
          message: serviceaccount/nfs-subdir-external-provisioner unchanged
          name: nfs-subdir-external-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: storage.k8s.io
          hookPhase: Running
          kind: StorageClass
          message: storageclass.storage.k8s.io/nfs-client unchanged
          name: nfs-client
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRole
          message: clusterrole.rbac.authorization.k8s.io/nfs-subdir-external-provisioner-runner
            reconciled. clusterrole.rbac.authorization.k8s.io/nfs-subdir-external-provisioner-runner
            unchanged
          name: nfs-subdir-external-provisioner-runner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: ClusterRoleBinding
          message: clusterrolebinding.rbac.authorization.k8s.io/run-nfs-subdir-external-provisioner
            reconciled. clusterrolebinding.rbac.authorization.k8s.io/run-nfs-subdir-external-provisioner
            unchanged
          name: run-nfs-subdir-external-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: Role
          message: role.rbac.authorization.k8s.io/leader-locking-nfs-subdir-external-provisioner
            reconciled. role.rbac.authorization.k8s.io/leader-locking-nfs-subdir-external-provisioner
            unchanged
          name: leader-locking-nfs-subdir-external-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: rbac.authorization.k8s.io
          hookPhase: Running
          kind: RoleBinding
          message: rolebinding.rbac.authorization.k8s.io/leader-locking-nfs-subdir-external-provisioner
            reconciled. rolebinding.rbac.authorization.k8s.io/leader-locking-nfs-subdir-external-provisioner
            unchanged
          name: leader-locking-nfs-subdir-external-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        - group: apps
          hookPhase: Running
          kind: Deployment
          message: deployment.apps/nfs-subdir-external-provisioner configured
          name: nfs-subdir-external-provisioner
          namespace: nfs-provisioner
          status: Synced
          syncPhase: Sync
          version: v1
        revision: deb170a29c8ba9b94a12b83f4ef0f0bb88bbfcea
        source:
          kustomize:
            version: v4.5.4
          path: distribution/nfs-provisioner
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
    reconciledAt: "2022-09-27T23:16:06Z"
    resources:
    - kind: Namespace
      name: nfs-provisioner
      status: Synced
      version: v1
    - kind: ServiceAccount
      name: nfs-subdir-external-provisioner
      namespace: nfs-provisioner
      status: Synced
      version: v1
    - group: apps
      health:
        status: Healthy
      kind: Deployment
      name: nfs-subdir-external-provisioner
      namespace: nfs-provisioner
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRole
      name: nfs-subdir-external-provisioner-runner
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: ClusterRoleBinding
      name: run-nfs-subdir-external-provisioner
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: Role
      name: leader-locking-nfs-subdir-external-provisioner
      namespace: nfs-provisioner
      status: Synced
      version: v1
    - group: rbac.authorization.k8s.io
      kind: RoleBinding
      name: leader-locking-nfs-subdir-external-provisioner
      namespace: nfs-provisioner
      status: Synced
      version: v1
    - group: storage.k8s.io
      kind: StorageClass
      name: nfs-client
      status: Synced
      version: v1
    sourceType: Kustomize
    summary:
      images:
      - k8s.gcr.io/sig-storage/nfs-subdir-external-provisioner:v4.0.2
    sync:
      comparedTo:
        destination:
          namespace: nfs-provisioner
          server: https://kubernetes.default.svc
        source:
          kustomize:
            version: v4.5.4
          path: distribution/nfs-provisioner
          repoURL: https://github.com/gkranasinghe/k8s
          targetRevision: master
      revision: a15b2c969641865f53c65c68053ebd31752974ef
      status: Synced
kind: List
metadata:
  resourceVersion: ""
  selfLink: ""
